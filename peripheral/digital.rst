.. _digital:

数字外设
======================

.. contents::
    :local:

PWM
--------------

PWM(Pulse Width Modulation)脉冲宽度调制: 从调制脉冲的极性看，PWM又可分为单极性与双极性控制模式两种。

过调节占空比的变化来调节信号、能量等的变化，占空比就是指在一个周期内，信号处于高电平的时间占据整个信号周期的百分比，例如方波的占空比就是50%.


相关概念
~~~~~~~~~~~~~~~

* PCM(Pulse Code Modulation)，脉冲编码调制，以约定好的二进制码流传递信息，可以时分复用；I2S是PCM的一个分支，采样频率一般为44.1KHZ和48KHZ做，PCM采样频率一般为8K,16K。有四组信号:位时钟信号，同步信号，数据输入，数据输出
* PPM(Pulse Position Modulation)，脉冲位置调制，以不同时刻出现的脉冲位置传递信息，可以时分复用
* PDM(Pulse Distance Modulation)，脉冲间隔调制，脉冲宽度不变，都是560us，通过改变脉冲间隔实现调制

红外遥控发射采用PPM/PDM编码方式，遥控编码脉冲由前导码、16 位用户码（8 位用户码、8 位用户码的反码）和 16 位操作码（8 位操作码、8 位操作码的反码）组成。

* 前导码的作用：前导码是一个遥控码的起始部分，由一个 9ms 的高电平 (起始码)  和一个 4.5ms 的低电平 (结果码) 组成。
* 用户码的作用：16 位用户码（8 位用户码、8 位用户码的反码），通过对用户码的检验，每个遥控器只能控制一个设备动作，这样可以有效地防止多个设备之间的干扰。编码后面还要有编码的反码，用来检验编码接收的正确性，防止误操作，增强系统的可靠性。
* 位0和1的表示：0和1均以0.56ms的高电平开始(实测500us)，不同的是后面出现的低电平，如果低电平是0.56ms，则表示0，如果低电平是1.68ms(0.56*3=1.68)则表示1。



.. toctree::
    :maxdepth: 1

    数字中断  <irq>
